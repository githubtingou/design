# 设计模式

## 六大设计原则

### 单一<u>职责</u>原则

英文：Singe Responsibility Principle 简称为SPR

定义：有且只有一个原因引起类的变更；如：将用户的行为和属性分割为2个接口

优点：

- 类的复杂性降低，对于类的实现什么<u>**职责**</u>有着清晰的认知
- 降低了复杂性和变更风险，提高了可读性和可维护性

在实际情况类的单一职责很难实现收到多个因素影响

### 里式替换原则（继承）

英文：Liskov Substitution Principle

规则：

- 子类必须完全继承父类的方法

  在类中调用其他类时务必使用父类或接口，如果不能使用，则违反了LSP原则

- 子类必须有自己的个性

  即子类必须有自己的方法和属性，因为在子类出现的地方，父类不一定能全部胜任需求

- 覆盖或实现父类的方法时输入参数可以被放大

  子类方法中的前置条件必须与超类中被覆写的方法的前置条件相同或宽松

  注意事项：

  - 当子类重载父类的一个方法，如果父类中的方法的入参小于子类的入参执行的是父类的方法；如果父类中的方法入参大于子类的方法入参，执行的方法取决于是父类还是子类调用重载的方法。

- 覆写或实现父类的方法是输出结果可以被缩小

  例：如果父类的中的返回类型是T,子类相同方法(重载和重写)的返回类型为S，那么S必须小于或等于T，即S和T必须是同一类型或S是T的子类。

  

### 依赖倒置原则（接口或抽象类）

英文名为Dependence Inversion Principle,简称DIP

简单含义（面向接口开发Object-Oriented-Design，OOP）

- 模块间的依赖通过抽象发生，实现类之间不发生直接的依赖，其依赖关系是通过接口或抽象类产生
- 接口和抽象类不依赖实现类
- 实现类依赖于接口或抽象类

依赖的三种写法

- 构造函数传递依赖对象
- setter方法传递依赖对象
- 接口声明依赖对象

遵循原则

- 每个类尽量有接口或抽象类，或者抽象类和接口俩者都
- 变量的表面类型尽量是接口或抽象类
- 任何类都不应该从具体类派生
- 尽量不要覆写基类的方法
- 结合里式替换原则使用

### 接口隔离原则

英文：Interface Segregation Principle

遵循原则

- 接口尽量的小，单需要遵循单一职责原则

- 接口要高内聚

- 定制服务

- 接口设计要有限度

  

### 迪米特法则

英文名：Law of Demeter,LoD 

简述：一个对象对其他对象有最少的了解，对类与类之间进行解耦，最多经过俩次跳转就可以跳转到其他类中（具体问题具体分析）

### 开闭原则

英文：Open Closed Principle

定义：一个软件实体如类、模块和函数应该对扩展进行开放，对修改进行关闭。可以通过新增接口，子类去实现变更的需求。

## 单例模式（Singleton Pattern）

定义：确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例

## 工厂方法模式（Factory Method Patten）

定义：定义一个用于创建对象的接口，让子类决定实例化哪一个类。工厂方法使一个类的实例化延迟到其子类。

## 抽象工厂模式（Abstract Factory Patten）

定义：